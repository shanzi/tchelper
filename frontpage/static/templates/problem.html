<div class="problem-detail" ng-if="problem.problemData != null">
  <small class="subtitle">
    <span ng-bind="problem.date"></span>
    <span class="dot-divider"></span>
    <b ng-bind-template="#{{ problem.problemId }}"></b>
  </small>
  <h1 class="title" ng-bind="problem.problemName"></h1>
  <section class="tags">
    <h2 class="section-title">related tags</h2>
    <div>
      <span ng-repeat="tag in problem.tags" ng-bind="tag" class="tag"></span>
    </div>
  </section>
  <section>
    <div class="problem-statement" ng-bind-html="problem.problemStatement"></div>
  </section>
  <div class="star">
    <a class="button" ng-if="!problem.has_star" ng-click="problem.star()">
      <i class="tch-star-outline"></i> Star this problem
    </a>
    <a class="button" ng-if="problem.has_star" ng-click="problem.unstar()">
      <i class="tch-star"></i>
      Unstar this problem
    </a>
  </div>
</div>

<section>
  <div class="add-comment">
    <textarea msd-elastic ng-model="problem.newCommentContent" placeholder="Leave a comment"
      ng-disable="problem.disableComment">
    </textarea>
    <div class="buttons">
      <a ng-class="{disabled: problem.commentInvalid()}" ng-click="problem.comment()">Publish</a>
      <a ng-click="problem.clearComment()" class="close-button">Clear</a>
    </div>
  </div>
  <div class="comments" ng-if="problem.comments.length > 0">
    <div class="comment" ng-repeat="comment in problem.comments">
      <div class="meta">
        <img gravatar-src="comment.user.email" gravatar-size="20" class="avatar">
        <span class="dot-divider"></span>
        <b ng-bind="comment.user.username"></b>
        <span class="dot-divider"></span>
        <span ng-bind="comment.datetime|date: 'yyyy-MM-dd ha'"></span>
      </div>
      <div class="content" ng-bind="comment.content">
      </div>
    </div>
  </div>
  <div ng-if="problem.comments.length == 0">
    No comments yet.
  </div>
</section>
